"use strict";(self.webpackChunkez_theme=self.webpackChunkez_theme||[]).push([[4609,8072],{9822(e,t,a){a.d(t,{A:()=>r});var o=a(20641),n=a(90033);a(2892);const i={name:"IconChevronDown",components:{TablerIconChevronDown:a(48156).rI},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};const r=(0,a(66262).A)(i,[["render",function(e,t,a,i,r,s){var l=(0,o.g2)("TablerIconChevronDown");return(0,o.uX)(),(0,o.Wv)(l,{size:a.size,"stroke-width":a.strokeWidth,class:(0,n.normalizeClass)(a.customClass)},null,8,["size","stroke-width","class"])}]])},10508(e,t,a){a.r(t),a.d(t,{default:()=>Ze});var o=a(59258),n=a(20641),i=a(90033),r=a(53751),s={class:"auth-container"},l={class:"top-toolbar"},c={key:0,class:"auth-card"},d={class:"loading-container"},u={class:""},p={key:1,class:"auth-card"},f={class:"auth-header"},h={class:"auth-logo"},m=["src"],g={class:"auth-title"},v={class:"auth-subtitle"},w={class:"form-group"},y={for:"email",class:"form-label"},k={key:0,class:"input-with-suffix"},C={class:"input-with-icon email-prefix"},b=["placeholder","disabled"],L={class:"suffix-text"},_={key:0,class:"suffix-dropdown"},S=["onClick"],T={key:1,class:"input-with-icon"},I=["placeholder","disabled"],A={key:2,class:"error-message"},x={key:0,class:"form-group"},E={for:"verificationCode",class:"form-label"},P={class:"input-with-button"},D={class:"input-with-icon verification-input"},M=["placeholder"],R=["disabled"],F={key:1,class:""},X={key:2,class:""},K={key:0,class:"error-message"},W={class:"form-group"},z={for:"password",class:"form-label"},H={class:"input-with-icon"},q=["type","placeholder"],N={key:0,class:"error-message"},$={class:"form-group"},U={for:"confirmPassword",class:"form-label"},V={class:"input-with-icon"},O=["type","placeholder"],B={key:0,class:"error-message"},G={class:"form-group"},Q={for:"inviteCode",class:"form-label"},j={key:0,class:"required"},Z={key:1,class:"optional"},J={class:"input-with-icon"},Y=["placeholder","required","disabled","readonly"],ee={key:0,class:"error-message"},te={key:1,class:"form-group"},ae={class:"form-label"},oe={class:"captcha-container"},ne={class:"form-group agreement-checkbox"},ie={class:"checkbox-container"},re={class:"checkbox-label"},se=["href"],le={key:0,class:"error-message"},ce={class:"form-group"},de=["disabled"],ue={key:0,class:"loading-wrapper"},pe={class:""},fe={key:1,class:""},he={class:"auth-footer"},me={class:"auth-divider"},ge={class:"auth-divider-text"},ve={class:"auth-divider"},we={class:"auth-divider-text"},ye={class:"captcha-modal-header"},ke={class:"captcha-modal-body"},Ce={key:0,class:"google-captcha"},be={key:1,class:"cloudflare-captcha"};var Le=a(20908),_e=a(30388),Se=(a(16280),a(76918),a(28706),a(74423),a(64346),a(44114),a(23288),a(26099),a(58940),a(27495),a(38781),a(21699),a(47764),a(71761),a(25440),a(5746),a(42762),a(62953),a(76031),a(48408),a(14603),a(47566),a(98721),a(50953)),Te=a(71029),Ie=a(46992),Ae=a(33366),xe=a(99668),Ee=a(71172),Pe=a(92614),De=a(46553),Me=a(86298),Re=a(94634),Fe=a(72951),Xe=a(97781),Ke=a(36886),We=a(79473),ze=a(63259),He=a(9822),qe=a(2636),Ne=a(93824),$e=a(80394),Ue=a(88774),Ve=a(52072),Oe=a(84320),Be=a(65165);window.onCaptchaVerified=function(e){window._registerInstance&&window._registerInstance.handleCaptchaResponse(e)},window.onCaptchaModalVerified=function(e){window._registerInstance&&window._registerInstance.handleCaptchaModalResponse(e)};var Ge=!1;const Qe={name:"RegisterView",components:{ThemeToggle:xe.A,LanguageSelector:Ee.A,IconMail:De.A,IconCode:Me.A,IconLock:Re.A,IconTicket:Fe.A,IconSend:Xe.A,IconArrowRight:Ke.A,IconEye:We.A,IconEyeOff:ze.A,IconChevronDown:He.A,DomainAuthAlert:Ne.A,AuthPopup:Ue.A,ThirdPartyLogin:Be.default},setup:function(){var e,t,a,o,i,r=(0,Ie.s9)().t,s=(0,Te.rd)(),l=(0,Ae.d)().showToast,c=(0,Oe.b)().goTo,d=(0,Se.KR)(!1),u=(0,Se.KR)(!1),p=(0,Se.KR)(!1),f=(0,Se.KR)(0),h=(0,Se.KR)(!1),m=(0,Se.KR)(!1),g=(0,Se.KR)(""),v=(0,Se.KR)(!1),w=(0,Se.KR)(!1),y=(0,Se.Kh)({title:(null===(e=$e.AUTH_CONFIG.popup)||void 0===e?void 0:e.title)||"",content:(null===(t=$e.AUTH_CONFIG.popup)||void 0===t?void 0:t.content)||"",cooldownHours:(null===(a=$e.AUTH_CONFIG.popup)||void 0===a?void 0:a.cooldownHours)||24,closeWaitSeconds:(null===(o=$e.AUTH_CONFIG.popup)||void 0===o?void 0:o.closeWaitSeconds)||0}),k=(0,Se.KR)("./images/logo.png"),C=(0,Se.Kh)({tos_url:"",is_email_verify:0,is_invite_force:0,email_whitelist_suffix:[],is_recaptcha:0,recaptcha_site_key:"",app_description:"",app_url:""}),b=(0,Se.Kh)({type:$e.CAPTCHA_CONFIG.captchaType,siteKey:"",verifyUrl:(null===(i=$e.CAPTCHA_CONFIG[$e.CAPTCHA_CONFIG.captchaType])||void 0===i?void 0:i.verifyUrl)||""}),L=(0,Se.KR)(""),_=(0,n.nI)();_&&_.proxy&&(window._registerInstance={handleCaptchaResponse:function(e){L.value=e},handleCaptchaModalResponse:function(e){e&&"string"==typeof e&&e.trim().length>0&&(g.value=e,setTimeout(function(){K(),W(e)},100))}});var S=(0,Se.KR)(""),T=(0,Se.KR)(""),I=(0,Se.KR)(!1),A=(0,Se.Kh)({email:"",verificationCode:"",password:"",confirmPassword:"",inviteCode:"",agreeTerms:$e.AUTH_CONFIG.autoAgreeTerms}),x=(0,Se.Kh)({email:"",verificationCode:"",password:"",confirmPassword:"",inviteCode:"",agreeTerms:""}),E=(0,Se.KR)(!1),P=(0,Se.KR)(!1),D=(0,n.EW)(function(){return 1===C.is_recaptcha}),M=function(){var e=(0,_e.A)((0,Le.A)().m(function e(){var t;return(0,Le.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,window.EZ_CONFIG.API_CONFIG.showCheckBackend&&(u.value=!0),e.n=1,(0,qe.getWebsiteConfig)();case 1:(t=e.v)&&t.data&&(Object.assign(C,t.data),Array.isArray(C.email_whitelist_suffix)&&C.email_whitelist_suffix.length>0&&(T.value=C.email_whitelist_suffix[0]),1===C.is_recaptcha&&(b.siteKey=C.recaptcha_site_key)),e.n=3;break;case 2:e.p=2,e.v,l(r("messages.configLoadFailed"),"error");case 3:return e.p=3,u.value=!1,e.f(3);case 4:return e.a(2)}},e,null,[[0,2,3,4]])}));return function(){return e.apply(this,arguments)}}(),R=function(e){var t=document.querySelector(".email-suffix");t&&!t.contains(e.target)&&(I.value=!1)},F=function(){S.value&&T.value?A.email="".concat(S.value,"@").concat(T.value):A.email=S.value},X=function(){m.value=!0,g.value="";var e=function(){var e=(0,_e.A)((0,Le.A)().m(function e(){return(0,Le.A)().w(function(e){for(;;)switch(e.n){case 0:setTimeout(function(){if("google"===b.type&&window.grecaptcha){var e=document.getElementById("modal-recaptcha");e&&(e.innerHTML="",window.grecaptcha.render("modal-recaptcha",{sitekey:b.siteKey,callback:"onCaptchaModalVerified",theme:document.body.classList.contains("dark-theme")?"dark":"light"}))}else if("cloudflare"===b.type&&window.turnstile){var t=document.getElementById("modal-turnstile");if(t){if(t.innerHTML="",window.turnstile.reset)try{window.turnstile.reset()}catch(e){}try{window.turnstile.render("#modal-turnstile",{sitekey:b.siteKey,callback:function(e){window._registerInstance&&window._registerInstance.handleCaptchaModalResponse(e)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"})}catch(e){for(var a=document.getElementsByTagName("script"),o=a.length-1;o>=0;o--)a[o].src.includes("turnstile")&&a[o].parentNode.removeChild(a[o]);setTimeout(function(){var e=document.createElement("script");e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit",e.async=!0,e.defer=!0,document.head.appendChild(e)},500)}}}},300);case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e()},K=function(){v.value=!0,setTimeout(function(){m.value=!1,v.value=!1},300)},W=function(){var e=(0,_e.A)((0,Le.A)().m(function e(t){var a,o,n,i,s;return(0,Le.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,d.value=!0,a={email:A.email,isForgetPassword:!1},t&&(a.recaptcha_data=t),e.n=1,(0,qe.sendEmailVerify)(a);case 1:if(!(o=e.v)||!0!==o.data){e.n=2;break}p.value=!0,H(),l(o.message||r("auth.codeSent"),"success"),$e.AUTH_CONFIG.verificationCode&&$e.AUTH_CONFIG.verificationCode.showCheckSpamTip&&(n=$e.AUTH_CONFIG.verificationCode.checkSpamTipDelay||1e3,setTimeout(function(){l(r("auth.checkSpam"),"info")},n)),e.n=3;break;case 2:throw new Error(o.message||r("auth.sendCodeFailed"));case 3:e.n=5;break;case 4:e.p=4,s=e.v,l((null===(i=s.response)||void 0===i?void 0:i.message)||s.message||r("auth.sendCodeFailed"),"error");case 5:return e.p=5,d.value=!1,e.f(5);case 6:return e.a(2)}},e,null,[[0,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,_e.A)((0,Le.A)().m(function e(){return(0,Le.A)().w(function(e){for(;;)switch(e.n){case 0:if(x.email="",A.email){e.n=1;break}return x.email=r("auth.emailRequired"),e.a(2);case 1:if((0,Pe.B9)(A.email)){e.n=2;break}return x.email=r("auth.emailInvalid"),e.a(2);case 2:1===C.is_recaptcha&&b.siteKey?X():W();case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){f.value=60;var e=setInterval(function(){f.value--,f.value<=0&&clearInterval(e)},1e3)},q=function(){var e=!0;if(x.email="",x.verificationCode="",x.password="",x.confirmPassword="",x.inviteCode="",x.agreeTerms="",1!==C.is_email_verify&&(A.verificationCode=""),A.email?(0,Pe.B9)(A.email)||(x.email=r("auth.emailInvalid"),e=!1):(x.email=r("auth.emailRequired"),e=!1),1===C.is_email_verify&&(A.verificationCode||(x.verificationCode=r("auth.codeRequired"),e=!1)),A.password?A.password.length<8&&(x.password=r("auth.passwordTooShort"),e=!1):(x.password=r("auth.passwordRequired"),e=!1),A.confirmPassword?A.password!==A.confirmPassword&&(x.confirmPassword=r("auth.passwordsDoNotMatch"),e=!1):(x.confirmPassword=r("auth.confirmPasswordRequired"),e=!1),1!==C.is_invite_force||A.inviteCode||(x.inviteCode=r("auth.inviteCodeRequired"),e=!1),A.agreeTerms||(x.agreeTerms=r("auth.mustAgreeToTerms"),e=!1),1===C.is_recaptcha){var t=document.querySelector('[name="g-recaptcha-response"]')||document.querySelector('[name="cf-turnstile-response"]');!(null==t||!t.value)||!!L.value||(l(r("auth.captchaRequired"),"error"),e=!1)}return e},N=function(){var e=(0,_e.A)((0,Le.A)().m(function e(){var t,a,o,n,i;return(0,Le.A)().w(function(e){for(;;)switch(e.p=e.n){case 0:if(q()){e.n=1;break}return e.a(2);case 1:return e.p=1,d.value=!0,t={email:A.email,password:A.password},1===C.is_email_verify&&(t.email_code=parseInt(A.verificationCode)),A.inviteCode&&(t.invite_code=A.inviteCode),1===C.is_recaptcha&&((a=document.querySelector('[name="g-recaptcha-response"]')||document.querySelector('[name="cf-turnstile-response"]'))&&a.value?t.recaptcha_data=a.value:L.value&&(t.recaptcha_data=L.value)),e.n=2,(0,qe.register)(t);case 2:o=e.v,l(o.message||r("auth.registerSuccess"),"success"),setTimeout(function(){s.push("/dashboard")},300),e.n=4;break;case 3:e.p=3,i=e.v,l((null===(n=i.response)||void 0===n?void 0:n.message)||i.message||r("auth.registerFailed"),"error"),window.grecaptcha&&window.grecaptcha.reset();case 4:return e.p=4,d.value=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(){return e.apply(this,arguments)}}(),$=function(e){if(e.origin===window.location.origin&&e.data&&"oauth_login_success"===e.data.type){var t=e.data.data,a=t.token,o=t.is_admin,n=t.auth_data;a&&(localStorage.setItem("token",a),localStorage.setItem("is_admin",o),localStorage.setItem("auth_data",n),window.location.reload())}};(0,n.sV)(function(){window.addEventListener("message",$);var e=new URLSearchParams(window.location.search),t=new URLSearchParams(window.location.hash.replace("#","?"));if(!0===e.has("logout")||!0===t.has("logout")){if(l(r("auth.logoutSuccess"),"success"),window.history&&window.history.replaceState){var a=window.location.href.replace("?logout=true","").replace("&logout=true","");window.history.replaceState({},document.title,a)}return M(),void document.addEventListener("click",R)}try{if(!0===window._isLoggingOut)return M(),void document.addEventListener("click",R);if((0,qe.checkLoginStatus)())return l(r("auth.alreadyLoggedIn"),"info"),void setTimeout(function(){s.push("/dashboard")},500);if(e.has("code"))A.inviteCode=e.get("code"),h.value=!0;else if(t.has("code"))A.inviteCode=t.get("code"),h.value=!0;else{var o=window.location.href.match(/[?&]code=([^&]+)/);o&&o[1]&&(A.inviteCode=o[1],h.value=!0)}}catch(e){}M().then(function(){1===C.is_recaptcha&&V(),w.value=(0,Ve.z)($e.AUTH_CONFIG.popup)}),document.addEventListener("click",R),window.addEventListener("focus",function(){1===C.is_recaptcha&&setTimeout(function(){U()},300)})}),(0,n.xo)(function(){window.removeEventListener("message",$)}),(0,n.n)(function(){1===C.is_recaptcha&&"cloudflare"===b.type&&b.siteKey&&V().then(function(){if(window.turnstile&&window.turnstile.reset)try{window.turnstile.reset();var e=document.getElementById("form-turnstile");e&&window.turnstile.render&&(e.innerHTML="",window.turnstile.render("#form-turnstile",{sitekey:b.siteKey,callback:function(e){window._registerInstance&&window._registerInstance.handleCaptchaResponse(e)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"}))}catch(e){for(var t=document.getElementsByTagName("script"),a=t.length-1;a>=0;a--)t[a].src.includes("turnstile")&&t[a].parentNode.removeChild(t[a]);setTimeout(function(){var e=document.createElement("script");e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit",e.async=!0,e.defer=!0,document.head.appendChild(e)},500)}})}),(0,n.xo)(function(){if(document.removeEventListener("click",R),Ge=!1,window.turnstile&&window.turnstile.reset)try{window.turnstile.reset()}catch(e){}var e=document.getElementById("form-turnstile");e&&(e.innerHTML="");var t=document.getElementById("modal-turnstile");t&&(t.innerHTML=""),L.value="",g.value="",window.captchaScriptLoaded=void 0,window.onCaptchaVerified=void 0,window.onCaptchaModalVerified=void 0,window._registerInstance=null});var U=function(){1===C.is_recaptcha&&b.siteKey&&setTimeout(function(){if("google"===b.type&&window.grecaptcha){var e=document.getElementById("form-recaptcha");if(e&&!Ge){e.innerHTML="";try{window.grecaptcha.render("form-recaptcha",{sitekey:b.siteKey,callback:function(e){window._registerInstance&&window._registerInstance.handleCaptchaResponse(e)},theme:document.body.classList.contains("dark-theme")?"dark":"light"}),Ge=!0}catch(e){Ge=!!e.toString().includes("has already been rendered")}}}else if("cloudflare"===b.type&&window.turnstile){var t=document.getElementById("form-turnstile");if(t){t.innerHTML="";try{window.turnstile.render("#form-turnstile",{sitekey:b.siteKey,callback:function(e){window._registerInstance&&window._registerInstance.handleCaptchaResponse(e)},theme:document.body.classList.contains("dark-theme")?"dark":"light",retry:"auto","retry-interval":5e3,"refresh-expired":"manual",tabindex:0,execution:"render"})}catch(e){}}}},500)},V=function(){return new Promise(function(e){if(1===C.is_recaptcha&&C.recaptcha_site_key){if(window.turnstile&&"cloudflare"===b.type)try{window.turnstile.reset&&window.turnstile.reset();var t=document.getElementById("form-turnstile");if(t)return t.innerHTML="",void setTimeout(function(){window.turnstile.render("#form-turnstile",{sitekey:b.siteKey,callback:"onCaptchaVerified",theme:document.body.classList.contains("dark-theme")?"dark":"light","refresh-expired":"auto"}),e()},100)}catch(e){}if(function(){var e=document.getElementById("form-recaptcha");e&&(e.innerHTML="");var t=document.getElementById("form-turnstile");t&&(t.innerHTML="");var a=document.getElementById("modal-recaptcha");a&&(a.innerHTML="");var o=document.getElementById("modal-turnstile");o&&(o.innerHTML="")}(),window.turnstile&&"cloudflare"===b.type)U(),e();else{var a=document.createElement("script");if("google"===b.type){a.src="".concat("https://www.recaptcha.net","/recaptcha/api.js?onload=captchaScriptLoaded&render=explicit")}else"cloudflare"===b.type&&(a.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=captchaScriptLoaded&render=explicit");a.async=!0,a.defer=!0,window.captchaScriptLoaded=function(){U(),setTimeout(function(){e()},100)},document.head.appendChild(a)}}else e()})};return{formData:A,errors:x,loading:d,configLoading:u,codeSent:p,cooldown:f,sendVerificationCode:z,handleRegister:N,isValidEmail:Pe.B9,showPassword:E,showConfirmPassword:P,config:C,emailPrefix:S,selectedSuffix:T,showSuffixDropdown:I,toggleSuffixDropdown:function(e){e.stopPropagation(),I.value=!I.value},selectSuffix:function(e){T.value=e,I.value=!1,F()},handleEmailPrefixChange:function(){F()},inviteCodeFromUrl:h,logoPath:k,handleLogoError:function(){k.value="/images/logo.png"},captchaConfig:b,handleCaptchaResponse:function(e){L.value=e},showCaptchaModal:m,closeCaptchaModal:K,handleCaptchaModalResponse:function(e){e&&"string"==typeof e&&e.trim().length>0&&(g.value=e,setTimeout(function(){K(),W(e)},100))},needCaptchaForEmailVerify:D,isClosingModal:v,renderFormCaptcha:U,showAuthPopup:w,authPopupConfig:y,handleAuthPopupClose:function(){w.value=!1},goTo:c,handleMessage:$}}};const je=(0,a(66262).A)(Qe,[["render",function(e,t,a,Le,_e,Se){var Te=(0,n.g2)("ThemeToggle"),Ie=(0,n.g2)("LanguageSelector"),Ae=(0,n.g2)("IconMail"),xe=(0,n.g2)("IconChevronDown"),Ee=(0,n.g2)("IconCode"),Pe=(0,n.g2)("IconSend"),De=(0,n.g2)("IconLock"),Me=(0,n.g2)("IconEye"),Re=(0,n.g2)("IconEyeOff"),Fe=(0,n.g2)("IconTicket"),Xe=(0,n.g2)("IconArrowRight"),Ke=(0,n.g2)("ThirdPartyLogin"),We=(0,n.g2)("router-link"),ze=(0,n.g2)("AuthPopup");return(0,n.uX)(),(0,n.CE)("div",s,[t[33]||(t[33]=(0,n.Lk)("div",{class:"background-decoration"},[(0,n.Lk)("div",{class:"floating-ball ball-1"}),(0,n.Lk)("div",{class:"floating-ball ball-2"}),(0,n.Lk)("div",{class:"floating-ball ball-3"})],-1)),(0,n.Lk)("div",l,[(0,n.bF)(Te),(0,n.bF)(Ie)]),Le.configLoading?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",d,[t[19]||(t[19]=(0,n.Lk)("div",{class:"loading-spinner"},null,-1)),(0,n.Lk)("p",u,(0,i.toDisplayString)(e.$t("common.loading")),1)])])):((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",f,[(0,n.Lk)("div",h,[(0,n.Lk)("img",{src:Le.logoPath,alt:"Logo",onError:t[0]||(t[0]=function(){return Le.handleLogoError&&Le.handleLogoError.apply(Le,arguments)}),onClick:t[1]||(t[1]=function(e){return Le.goTo("/")})},null,40,m)]),(0,n.Lk)("h1",g,(0,i.toDisplayString)(e.$t("auth.registerTitle")),1),(0,n.Lk)("p",v,(0,i.toDisplayString)(Le.config.app_description||e.$t("auth.registerSubtitle")),1)]),(0,n.Lk)("form",{class:"auth-form",onSubmit:t[16]||(t[16]=(0,r.withModifiers)(function(){return Le.handleRegister&&Le.handleRegister.apply(Le,arguments)},["prevent"]))},[(0,n.Lk)("div",w,[(0,n.Lk)("label",y,[(0,n.eW)((0,i.toDisplayString)(e.$t("common.email"))+" ",1),t[20]||(t[20]=(0,n.Lk)("span",{class:"required"},"*",-1))]),Le.config.email_whitelist_suffix&&Le.config.email_whitelist_suffix.length>0?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.Lk)("div",C,[(0,n.bF)(Ae,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"emailPrefix",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(e){return Le.emailPrefix=e}),placeholder:e.$t("auth.emailPrefixPlaceholder"),onInput:t[3]||(t[3]=function(){return Le.handleEmailPrefixChange&&Le.handleEmailPrefixChange.apply(Le,arguments)}),disabled:Le.codeSent,required:""},null,40,b),[[r.vModelText,Le.emailPrefix]])]),t[21]||(t[21]=(0,n.Lk)("div",{class:"email-suffix-separator"},"@",-1)),(0,n.Lk)("div",{class:(0,i.normalizeClass)(["email-suffix",{disabled:Le.codeSent}]),onClick:t[4]||(t[4]=function(){return Le.toggleSuffixDropdown&&Le.toggleSuffixDropdown.apply(Le,arguments)})},[(0,n.Lk)("div",L,(0,i.toDisplayString)(Le.selectedSuffix),1),(0,n.bF)(xe,{class:(0,i.normalizeClass)(["suffix-icon",{"rotate-180":Le.showSuffixDropdown}])},null,8,["class"]),Le.showSuffixDropdown?((0,n.uX)(),(0,n.CE)("div",_,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Le.config.email_whitelist_suffix,function(e){return(0,n.uX)(),(0,n.CE)("div",{key:e,class:(0,i.normalizeClass)(["suffix-option",{active:e===Le.selectedSuffix}]),onClick:(0,r.withModifiers)(function(t){return Le.selectSuffix(e)},["stop"])},(0,i.toDisplayString)(e),11,S)}),128))])):(0,n.Q3)("",!0)],2)])):((0,n.uX)(),(0,n.CE)("div",T,[(0,n.bF)(Ae,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:"email",id:"email",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return Le.formData.email=e}),placeholder:e.$t("auth.emailPlaceholder"),disabled:Le.codeSent,required:""},null,8,I),[[r.vModelText,Le.formData.email]])])),Le.errors.email?((0,n.uX)(),(0,n.CE)("span",A,(0,i.toDisplayString)(Le.errors.email),1)):(0,n.Q3)("",!0)]),1===Le.config.is_email_verify?((0,n.uX)(),(0,n.CE)("div",x,[(0,n.Lk)("label",E,[(0,n.eW)((0,i.toDisplayString)(e.$t("common.verificationCode"))+" ",1),t[22]||(t[22]=(0,n.Lk)("span",{class:"required"},"*",-1))]),(0,n.Lk)("div",P,[(0,n.Lk)("div",D,[(0,n.bF)(Ee,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"verificationCode",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=function(e){return Le.formData.verificationCode=e}),placeholder:e.$t("auth.codePlaceholder"),required:""},null,8,M),[[r.vModelText,Le.formData.verificationCode]])]),(0,n.Lk)("button",{type:"button",class:"send-code-btn",onClick:t[7]||(t[7]=function(){return Le.sendVerificationCode&&Le.sendVerificationCode.apply(Le,arguments)}),disabled:!Le.isValidEmail(Le.formData.email)||Le.cooldown>0||Le.loading},[0===Le.cooldown?((0,n.uX)(),(0,n.Wv)(Pe,{key:0,class:"icon-left"})):(0,n.Q3)("",!0),Le.cooldown>0?((0,n.uX)(),(0,n.CE)("span",F,(0,i.toDisplayString)(Le.cooldown)+"s",1)):((0,n.uX)(),(0,n.CE)("span",X,(0,i.toDisplayString)(e.$t("common.sendCode")),1))],8,R)]),Le.errors.verificationCode?((0,n.uX)(),(0,n.CE)("span",K,(0,i.toDisplayString)(Le.errors.verificationCode),1)):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",W,[(0,n.Lk)("label",z,[(0,n.eW)((0,i.toDisplayString)(e.$t("common.password"))+" ",1),t[23]||(t[23]=(0,n.Lk)("span",{class:"required"},"*",-1))]),(0,n.Lk)("div",H,[(0,n.bF)(De,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:Le.showPassword?"text":"password",id:"password",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(e){return Le.formData.password=e}),placeholder:e.$t("auth.passwordPlaceholder"),required:""},null,8,q),[[r.vModelDynamic,Le.formData.password]]),(0,n.Lk)("div",{class:"password-toggle",onClick:t[9]||(t[9]=function(e){return Le.showPassword=!Le.showPassword})},[Le.showPassword?((0,n.uX)(),(0,n.Wv)(Re,{key:1})):((0,n.uX)(),(0,n.Wv)(Me,{key:0}))])]),Le.errors.password?((0,n.uX)(),(0,n.CE)("span",N,(0,i.toDisplayString)(Le.errors.password),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",$,[(0,n.Lk)("label",U,[(0,n.eW)((0,i.toDisplayString)(e.$t("common.confirmPassword"))+" ",1),t[24]||(t[24]=(0,n.Lk)("span",{class:"required"},"*",-1))]),(0,n.Lk)("div",V,[(0,n.bF)(De,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:Le.showConfirmPassword?"text":"password",id:"confirmPassword",class:"form-control","onUpdate:modelValue":t[10]||(t[10]=function(e){return Le.formData.confirmPassword=e}),placeholder:e.$t("auth.confirmPasswordPlaceholder"),required:""},null,8,O),[[r.vModelDynamic,Le.formData.confirmPassword]]),(0,n.Lk)("div",{class:"password-toggle",onClick:t[11]||(t[11]=function(e){return Le.showConfirmPassword=!Le.showConfirmPassword})},[Le.showConfirmPassword?((0,n.uX)(),(0,n.Wv)(Re,{key:1})):((0,n.uX)(),(0,n.Wv)(Me,{key:0}))])]),Le.errors.confirmPassword?((0,n.uX)(),(0,n.CE)("span",B,(0,i.toDisplayString)(Le.errors.confirmPassword),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",G,[(0,n.Lk)("label",Q,[(0,n.eW)((0,i.toDisplayString)(e.$t("auth.inviteCode"))+" ",1),1===Le.config.is_invite_force?((0,n.uX)(),(0,n.CE)("span",j,"*")):((0,n.uX)(),(0,n.CE)("span",Z,(0,i.toDisplayString)(e.$t("common.optional")),1))]),(0,n.Lk)("div",J,[(0,n.bF)(Fe,{class:"input-icon"}),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"inviteCode",class:"form-control","onUpdate:modelValue":t[12]||(t[12]=function(e){return Le.formData.inviteCode=e}),placeholder:e.$t("auth.inviteCodePlaceholder"),required:1===Le.config.is_invite_force,disabled:Le.inviteCodeFromUrl,readonly:Le.inviteCodeFromUrl},null,8,Y),[[r.vModelText,Le.formData.inviteCode]])]),Le.errors.inviteCode?((0,n.uX)(),(0,n.CE)("span",ee,(0,i.toDisplayString)(Le.errors.inviteCode),1)):(0,n.Q3)("",!0)]),1===Le.config.is_recaptcha?((0,n.uX)(),(0,n.CE)("div",te,[(0,n.Lk)("label",ae,[(0,n.eW)((0,i.toDisplayString)(e.$t("auth.captcha"))+" ",1),t[25]||(t[25]=(0,n.Lk)("span",{class:"required"},"*",-1))]),(0,n.Lk)("div",oe,["google"===Le.captchaConfig.type?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"google-captcha",onClick:t[13]||(t[13]=(0,r.withModifiers)(function(){},["stop"]))},(0,o.A)(t[26]||(t[26]=[(0,n.Lk)("div",{id:"form-recaptcha"},null,-1)])))):"cloudflare"===Le.captchaConfig.type?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"cloudflare-captcha",onClick:t[14]||(t[14]=(0,r.withModifiers)(function(){},["stop"]))},(0,o.A)(t[27]||(t[27]=[(0,n.Lk)("div",{id:"form-turnstile"},null,-1)])))):(0,n.Q3)("",!0)])])):(0,n.Q3)("",!0),(0,n.Lk)("div",ne,[(0,n.Lk)("label",ie,[(0,n.bo)((0,n.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=function(e){return Le.formData.agreeTerms=e})},null,512),[[r.vModelCheckbox,Le.formData.agreeTerms]]),t[29]||(t[29]=(0,n.Lk)("span",{class:"checkmark"},null,-1)),(0,n.Lk)("span",re,[(0,n.eW)((0,i.toDisplayString)(e.$t("auth.agreeToTerms"))+" ",1),(0,n.Lk)("a",{href:Le.config.tos_url||"https://google.com/legal/terms",target:"_blank",class:""},(0,i.toDisplayString)(e.$t("auth.termsOfService")),9,se),t[28]||(t[28]=(0,n.Lk)("span",{class:"required"},"*",-1))])]),Le.errors.agreeTerms?((0,n.uX)(),(0,n.CE)("span",le,(0,i.toDisplayString)(Le.errors.agreeTerms),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",ce,[(0,n.Lk)("button",{type:"submit",class:"btn btn-primary btn-block",disabled:Le.loading||!Le.formData.agreeTerms},[Le.loading?((0,n.uX)(),(0,n.CE)("span",ue,[(0,n.Lk)("span",pe,(0,i.toDisplayString)(e.$t("common.loading")),1)])):((0,n.uX)(),(0,n.CE)("span",fe,[(0,n.eW)((0,i.toDisplayString)(e.$t("auth.createAccount"))+" ",1),(0,n.bF)(Xe,{class:"icon-right"})]))],8,de)])],32),(0,n.Lk)("div",he,[(0,n.Lk)("div",me,[(0,n.Lk)("span",ge,(0,i.toDisplayString)(e.$t("auth.thirdPartyLogin")),1)]),(0,n.bF)(Ke,{config:Le.config},null,8,["config"]),(0,n.Lk)("div",ve,[(0,n.Lk)("span",we,(0,i.toDisplayString)(e.$t("auth.alreadyHaveAccount")),1)]),(0,n.bF)(We,{to:"/login",class:"btn btn-secondary btn-block"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,i.toDisplayString)(e.$t("common.login")),1)]}),_:1})])])),Le.showCaptchaModal?((0,n.uX)(),(0,n.CE)("div",{key:2,class:(0,i.normalizeClass)(["captcha-modal",{closing:Le.isClosingModal}])},[(0,n.Lk)("div",{class:"captcha-modal-overlay",onClick:t[17]||(t[17]=function(){return Le.closeCaptchaModal&&Le.closeCaptchaModal.apply(Le,arguments)})}),(0,n.Lk)("div",{class:(0,i.normalizeClass)(["captcha-modal-content",{closing:Le.isClosingModal}])},[(0,n.Lk)("div",ye,[(0,n.Lk)("h3",null,(0,i.toDisplayString)(e.$t("auth.captcha")),1),(0,n.Lk)("button",{class:"close-btn",onClick:t[18]||(t[18]=function(){return Le.closeCaptchaModal&&Le.closeCaptchaModal.apply(Le,arguments)})},(0,o.A)(t[30]||(t[30]=[(0,n.Lk)("span",null,"\xd7",-1)])))]),(0,n.Lk)("div",ke,[(0,n.Lk)("p",null,(0,i.toDisplayString)(e.$t("auth.captchaRequired")),1),"google"===Le.captchaConfig.type?((0,n.uX)(),(0,n.CE)("div",Ce,(0,o.A)(t[31]||(t[31]=[(0,n.Lk)("div",{id:"modal-recaptcha"},null,-1)])))):"cloudflare"===Le.captchaConfig.type?((0,n.uX)(),(0,n.CE)("div",be,(0,o.A)(t[32]||(t[32]=[(0,n.Lk)("div",{id:"modal-turnstile"},null,-1)])))):(0,n.Q3)("",!0)])],2)],2)):(0,n.Q3)("",!0),(0,n.bF)(ze,{"show-popup":Le.showAuthPopup,title:Le.authPopupConfig.title,content:Le.authPopupConfig.content,"cooldown-hours":Le.authPopupConfig.cooldownHours,"close-wait-seconds":Le.authPopupConfig.closeWaitSeconds,onClose:Le.handleAuthPopupClose},null,8,["show-popup","title","content","cooldown-hours","close-wait-seconds","onClose"])])}],["__scopeId","data-v-bc44c4f2"]]),Ze=je},72951(e,t,a){a.d(t,{A:()=>r});var o=a(20641),n=a(90033);a(2892);const i={name:"IconTicket",components:{TablerIconTicket:a(48156).yg},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};const r=(0,a(66262).A)(i,[["render",function(e,t,a,i,r,s){var l=(0,o.g2)("TablerIconTicket");return(0,o.uX)(),(0,o.Wv)(l,{size:a.size,"stroke-width":a.strokeWidth,class:(0,n.normalizeClass)(a.customClass)},null,8,["size","stroke-width","class"])}]])},86298(e,t,a){a.d(t,{A:()=>r});var o=a(20641),n=a(90033);a(2892);const i={name:"IconCode",components:{TablerIconCode:a(48156).Dl},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};const r=(0,a(66262).A)(i,[["render",function(e,t,a,i,r,s){var l=(0,o.g2)("TablerIconCode");return(0,o.uX)(),(0,o.Wv)(l,{size:a.size,"stroke-width":a.strokeWidth,class:(0,n.normalizeClass)(a.customClass)},null,8,["size","stroke-width","class"])}]])},97781(e,t,a){a.d(t,{A:()=>r});var o=a(20641),n=a(90033);a(2892);const i={name:"IconSend",components:{TablerIconSend:a(48156).mD},props:{size:{type:[Number,String],default:24},strokeWidth:{type:[Number,String],default:2},customClass:{type:String,default:""}}};const r=(0,a(66262).A)(i,[["render",function(e,t,a,i,r,s){var l=(0,o.g2)("TablerIconSend");return(0,o.uX)(),(0,o.Wv)(l,{size:a.size,"stroke-width":a.strokeWidth,class:(0,n.normalizeClass)(a.customClass)},null,8,["size","stroke-width","class"])}]])}}]);